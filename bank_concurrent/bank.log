
[2025-05-19 11:44:07] [INFO] ========== BANK SYSTEM STARTED ==========
[2025-05-19 11:44:07] [INFO] Starting concurrent server (using processes)
[2025-05-19 11:44:07] [INFO] Loading data from bank.json
[2025-05-19 11:44:09] [INFO] No existing data file found. Starting with empty file.
[2025-05-19 11:44:09] [INFO] Bank server starting on port 8888
[2025-05-19 11:44:11] [INFO] Server socket created successfully
[2025-05-19 11:44:12] [INFO] Socket options set successfully (SO_REUSEADDR)
[2025-05-19 11:44:14] [INFO] Socket successfully bound to port 8888
[2025-05-19 11:44:15] [INFO] Server now listening for connections (backlog: 10)
[2025-05-19 11:44:16] [INFO] Bank server ready to accept connections
[2025-05-19 11:44:16] [INFO] Concurrent server ready (using processes)
[2025-05-19 11:44:16] [INFO] Waiting for incoming connection...
[2025-05-19 11:46:18] [INFO] Connection accepted from 127.0.0.1:34096 (socket fd: 5)
[2025-05-19 11:46:18] [INFO] Created child process 77237 to handle client 127.0.0.1:34096 (active children: 1)
[2025-05-19 11:46:18] [INFO] Child process 77237 handling client 127.0.0.1:34096
[2025-05-19 11:46:18] [INFO] Waiting for incoming connection...
[2025-05-19 11:46:18] [INFO] Handling new client connection from 127.0.0.1:34096
[2025-05-19 11:46:19] [INFO] Waiting to receive request from client 127.0.0.1
[2025-05-19 11:46:55] [INFO] Received command 1 from client 127.0.0.1 (bytes: 80)
[2025-05-19 11:46:56] [INFO] Processing OPEN ACCOUNT command for client 127.0.0.1
[2025-05-19 11:46:57] [INFO] Request details: Name=Yardit, ID=102, Type=1
[2025-05-19 11:46:57] [INFO] Attempting to open new account for Yardit (ID: 102, Type: 1)
[2025-05-19 11:46:57] [INFO] Account created: Number=100001, PIN=7557, Balance=1000
[2025-05-19 11:46:57] [INFO] Saving data to bank.json
[2025-05-19 11:46:59] [INFO] Data saved successfully (1 accounts)
[2025-05-19 11:46:59] [INFO] Account created successfully: Number=100001, PIN=7557
[2025-05-19 11:47:00] [INFO] Preparing to send response to client 127.0.0.1 (status: 0)
[2025-05-19 11:47:01] [INFO] Response sent to client 127.0.0.1 (bytes: 400)
[2025-05-19 11:47:01] [INFO] Ready for next request from client 127.0.0.1
[2025-05-19 11:47:02] [INFO] Waiting to receive request from client 127.0.0.1
[2025-05-19 11:54:36] [INFO] Received signal 2, shutting down server...
[2025-05-19 11:54:36] [INFO] Saving data to bank.json
[2025-05-19 11:54:36] [INFO] Received signal 2, shutting down server...
[2025-05-19 11:54:36] [INFO] Saving data to bank.json

[2025-05-19 11:54:56] [INFO] ========== BANK SYSTEM STARTED ==========
[2025-05-19 11:54:56] [INFO] Starting concurrent server (using processes)
[2025-05-19 11:54:56] [INFO] Loading data from bank.json
[2025-05-19 11:54:58] [INFO] Data loaded successfully (1 accounts)
[2025-05-19 11:54:58] [INFO] [PARENT 77864] Bank server starting on port 8888
[2025-05-19 11:55:00] [INFO] [PARENT 77864] Server socket created successfully
[2025-05-19 11:55:01] [INFO] [PARENT 77864] Socket options set successfully (SO_REUSEADDR)
[2025-05-19 11:55:03] [INFO] [PARENT 77864] Socket successfully bound to port 8888
[2025-05-19 11:55:04] [INFO] [PARENT 77864] Server now listening for connections (backlog: 10)
[2025-05-19 11:55:05] [INFO] [PARENT 77864] Bank server ready to accept connections
[2025-05-19 11:55:05] [INFO] [PARENT 77864] Concurrent server ready (using processes)
[2025-05-19 11:55:05] [INFO] [PARENT 77864] Waiting for incoming connection...
[2025-05-19 11:55:29] [INFO] [PARENT 77864] Connection accepted from 127.0.0.1:52700 (socket fd: 5)
[2025-05-19 11:55:29] [INFO] [PARENT 77864] Created child process 77922 to handle client 127.0.0.1:52700 (active children: 1)
[2025-05-19 11:55:29] [INFO] [CHILD 77922] Process created to handle client 127.0.0.1:52700
[2025-05-19 11:55:29] [INFO] [PARENT 77864] Returning to accept loop for next client
[2025-05-19 11:55:29] [INFO] [CHILD 77922] Handling client connection from 127.0.0.1:52700
[2025-05-19 11:55:29] [INFO] [PARENT 77864] Waiting for incoming connection...
[2025-05-19 11:55:30] [INFO] [CHILD 77922] Waiting to receive request from client 127.0.0.1
[2025-05-19 11:56:31] [INFO] [CHILD 77922] Received command 1 from client 127.0.0.1 (bytes: 80)
[2025-05-19 11:56:32] [INFO] Processing OPEN ACCOUNT command for client 127.0.0.1
[2025-05-19 11:56:33] [INFO] Request details: Name=Test, ID=103, Type=1
[2025-05-19 11:56:33] [INFO] Attempting to open new account for Test (ID: 103, Type: 1)
[2025-05-19 11:56:33] [INFO] Account created: Number=100002, PIN=3474, Balance=1000
[2025-05-19 11:56:33] [INFO] Saving data to bank.json
[2025-05-19 11:56:34] [INFO] Data saved successfully (2 accounts)
[2025-05-19 11:56:34] [INFO] Account created successfully: Number=100002, PIN=3474
[2025-05-19 11:56:35] [INFO] Preparing to send response to client 127.0.0.1 (status: 0)
[2025-05-19 11:56:36] [INFO] Response sent to client 127.0.0.1 (bytes: 400)
[2025-05-19 11:56:36] [INFO] Ready for next request from client 127.0.0.1
[2025-05-19 11:56:37] [INFO] [CHILD 77922] Waiting to receive request from client 127.0.0.1
[2025-05-19 11:57:50] [INFO] [PARENT 77864] Connection accepted from 127.0.0.1:41164 (socket fd: 5)
[2025-05-19 11:57:50] [INFO] [PARENT 77864] Created child process 78167 to handle client 127.0.0.1:41164 (active children: 2)
[2025-05-19 11:57:50] [INFO] [CHILD 78167] Process created to handle client 127.0.0.1:41164
[2025-05-19 11:57:50] [INFO] [PARENT 77864] Returning to accept loop for next client
[2025-05-19 11:57:50] [INFO] [CHILD 78167] Handling client connection from 127.0.0.1:41164
[2025-05-19 11:57:50] [INFO] [PARENT 77864] Waiting for incoming connection...
[2025-05-19 11:57:51] [INFO] [CHILD 78167] Waiting to receive request from client 127.0.0.1
[2025-05-19 11:58:24] [INFO] [CHILD 78167] Received command 1 from client 127.0.0.1 (bytes: 80)
[2025-05-19 11:58:25] [INFO] Processing OPEN ACCOUNT command for client 127.0.0.1
[2025-05-19 11:58:24] [INFO] Request details: Name=Child, ID=105, Type=2
[2025-05-19 11:58:24] [INFO] Attempting to open new account for Child (ID: 105, Type: 2)
[2025-05-19 11:58:24] [INFO] Account created: Number=100002, PIN=3474, Balance=1000
[2025-05-19 11:58:24] [INFO] Saving data to bank.json
[2025-05-19 11:58:25] [INFO] Data saved successfully (2 accounts)
[2025-05-19 11:58:25] [INFO] Account created successfully: Number=100002, PIN=3474
[2025-05-19 11:58:26] [INFO] Preparing to send response to client 127.0.0.1 (status: 0)
[2025-05-19 11:58:27] [INFO] Response sent to client 127.0.0.1 (bytes: 400)
[2025-05-19 11:58:27] [INFO] Ready for next request from client 127.0.0.1
[2025-05-19 11:58:28] [INFO] [CHILD 78167] Waiting to receive request from client 127.0.0.1
[2025-05-19 11:58:52] [INFO] [CHILD 78167] Received command 5 from client 127.0.0.1 (bytes: 80)
[2025-05-19 11:58:53] [INFO] Processing BALANCE command for client 127.0.0.1
[2025-05-19 11:58:53] [INFO] Request details: Account=100002, PIN=3474
[2025-05-19 11:58:53] [INFO] Balance inquiry: Account 100002
[2025-05-19 11:58:53] [INFO] Balance reported: Account 100002, Balance 1000
[2025-05-19 11:58:53] [INFO] Balance request successful: Account=100002, Balance=1000
[2025-05-19 11:58:53] [INFO] Preparing to send response to client 127.0.0.1 (status: 0)
[2025-05-19 11:58:54] [INFO] Response sent to client 127.0.0.1 (bytes: 400)
[2025-05-19 11:58:54] [INFO] Ready for next request from client 127.0.0.1
[2025-05-19 11:58:55] [INFO] [CHILD 78167] Waiting to receive request from client 127.0.0.1
[2025-05-19 12:03:15] [INFO] [PARENT 78167] Received signal 2, shutting down server...
[2025-05-19 12:03:15] [INFO] Saving data to bank.json
[2025-05-19 12:03:15] [INFO] [PARENT 77922] Received signal 2, shutting down server...
[2025-05-19 12:03:15] [INFO] Saving data to bank.json
[2025-05-19 12:03:15] [INFO] [PARENT 77864] Received signal 2, shutting down server...
[2025-05-19 12:03:15] [INFO] Saving data to bank.json

[2025-05-19 12:03:27] [INFO] ========== BANK SYSTEM STARTED ==========
[2025-05-19 12:03:27] [INFO] Starting concurrent server (using processes)
[2025-05-19 12:03:27] [INFO] Loading data from bank.json
[2025-05-19 12:03:29] [INFO] Data loaded successfully (2 accounts)
[2025-05-19 12:03:29] [INFO] [PARENT 78603] Bank server starting on port 8888
[2025-05-19 12:03:31] [INFO] [PARENT 78603] Server socket created successfully
[2025-05-19 12:03:32] [INFO] [PARENT 78603] Socket options set successfully (SO_REUSEADDR)
[2025-05-19 12:03:34] [INFO] [PARENT 78603] Socket successfully bound to port 8888
[2025-05-19 12:03:35] [INFO] [PARENT 78603] Server now listening for connections (backlog: 10)
[2025-05-19 12:03:36] [INFO] [PARENT 78603] Bank server ready to accept connections
[2025-05-19 12:03:36] [INFO] [PARENT 78603] Initialized child PID tracking array with capacity for 10 processes
[2025-05-19 12:03:36] [INFO] [PARENT 78603] Concurrent server ready (using processes)
[2025-05-19 12:03:36] [INFO] [PARENT 78603] Waiting for incoming connection...
[2025-05-19 12:03:48] [INFO] [PARENT 78603] Connection accepted from 127.0.0.1:40076 (socket fd: 5)
[2025-05-19 12:03:48] [INFO] [PARENT 78603] Attempting to create child process for client 127.0.0.1:40076
[2025-05-19 12:03:48] [INFO] [PARENT 78603] Added child PID 78631 to tracking array at index 0
[2025-05-19 12:03:48] [INFO] [CHILD 78631] Process created by parent 78603 to handle client 127.0.0.1:40076
[2025-05-19 12:03:48] [INFO] [PARENT 78603] Successfully created child process 78631 to handle client 127.0.0.1:40076
[2025-05-19 12:03:48] [INFO] [CHILD 78631] Child process details:
[2025-05-19 12:03:48] [INFO] [PARENT 78603] Created child process 78631 to handle client 127.0.0.1:40076 (active children: 1)
[2025-05-19 12:03:48] [INFO] [CHILD 78631] - Parent PID: 78603
[2025-05-19 12:03:48] [INFO] [CHILD 78631] - Process Group: 78603
[2025-05-19 12:03:48] [INFO] [PARENT 78603] Returning to accept loop for next client
[2025-05-19 12:03:48] [INFO] [CHILD 78631] - User ID: 1000
[2025-05-19 12:03:48] [INFO] [PARENT 78603] Waiting for incoming connection...
[2025-05-19 12:03:48] [INFO] [CHILD 78631] Handling client connection from 127.0.0.1:40076
[2025-05-19 12:03:49] [INFO] [CHILD 78631] Waiting to receive request from client 127.0.0.1
[2025-05-19 12:04:29] [INFO] [CHILD 78631] Received command 3 from client 127.0.0.1 (bytes: 80)
[2025-05-19 12:04:30] [INFO] Processing DEPOSIT command for client 127.0.0.1
[2025-05-19 12:04:31] [INFO] Request details: Account=100002, PIN=3474, Amount=3000
[2025-05-19 12:04:31] [INFO] Deposit request: Account 100002, Amount 3000
[2025-05-19 12:04:31] [INFO] Deposit successful: Account 100002, Amount 3000, New Balance 4000
[2025-05-19 12:04:31] [INFO] Saving data to bank.json
[2025-05-19 12:04:32] [INFO] Data saved successfully (2 accounts)
[2025-05-19 12:04:32] [INFO] Balance inquiry: Account 100002
[2025-05-19 12:04:32] [INFO] Balance reported: Account 100002, Balance 4000
[2025-05-19 12:04:32] [INFO] Deposit successful: Account=100002, Amount=3000, New Balance=4000
[2025-05-19 12:04:33] [INFO] Preparing to send response to client 127.0.0.1 (status: 0)
[2025-05-19 12:04:34] [INFO] Response sent to client 127.0.0.1 (bytes: 400)
[2025-05-19 12:04:34] [INFO] Ready for next request from client 127.0.0.1
[2025-05-19 12:04:35] [INFO] [CHILD 78631] Waiting to receive request from client 127.0.0.1
[2025-05-19 12:05:09] [INFO] [PARENT 78603] Connection accepted from 127.0.0.1:39686 (socket fd: 5)
[2025-05-19 12:05:09] [INFO] [PARENT 78603] Attempting to create child process for client 127.0.0.1:39686
[2025-05-19 12:05:09] [INFO] [PARENT 78603] Added child PID 78723 to tracking array at index 1
[2025-05-19 12:05:09] [INFO] [PARENT 78603] Successfully created child process 78723 to handle client 127.0.0.1:39686
[2025-05-19 12:05:09] [INFO] [CHILD 78723] Process created by parent 78603 to handle client 127.0.0.1:39686
[2025-05-19 12:05:09] [INFO] [PARENT 78603] Created child process 78723 to handle client 127.0.0.1:39686 (active children: 2)
[2025-05-19 12:05:09] [INFO] [CHILD 78723] Child process details:
[2025-05-19 12:05:09] [INFO] [CHILD 78723] - Parent PID: 78603
[2025-05-19 12:05:09] [INFO] [PARENT 78603] Returning to accept loop for next client
[2025-05-19 12:05:09] [INFO] [CHILD 78723] - Process Group: 78603
[2025-05-19 12:05:09] [INFO] [CHILD 78723] - User ID: 1000
[2025-05-19 12:05:09] [INFO] [PARENT 78603] Waiting for incoming connection...
[2025-05-19 12:05:09] [INFO] [CHILD 78723] Handling client connection from 127.0.0.1:39686
[2025-05-19 12:05:10] [INFO] [CHILD 78723] Waiting to receive request from client 127.0.0.1
[2025-05-19 12:07:47] [INFO] [CHILD 78723] Received command 5 from client 127.0.0.1 (bytes: 80)
[2025-05-19 12:07:48] [INFO] Processing BALANCE command for client 127.0.0.1
[2025-05-19 12:07:48] [INFO] Request details: Account=100001, PIN=7557
[2025-05-19 12:07:48] [INFO] Balance inquiry: Account 100001
[2025-05-19 12:07:48] [INFO] Balance reported: Account 100001, Balance 1000
[2025-05-19 12:07:48] [INFO] Balance request successful: Account=100001, Balance=1000
[2025-05-19 12:07:48] [INFO] Preparing to send response to client 127.0.0.1 (status: 0)
[2025-05-19 12:07:47] [INFO] Response sent to client 127.0.0.1 (bytes: 400)
[2025-05-19 12:07:47] [INFO] Ready for next request from client 127.0.0.1
[2025-05-19 12:07:48] [INFO] [CHILD 78723] Waiting to receive request from client 127.0.0.1
[2025-05-19 12:08:10] [INFO] [CHILD 78723] Received command 0 from client 127.0.0.1 (bytes: 80)
[2025-05-19 12:08:11] [INFO] Client 127.0.0.1 requested to quit
[2025-05-19 12:08:11] [INFO] Sending termination message to client 127.0.0.1
[2025-05-19 12:08:11] [INFO] Closing connection with client 127.0.0.1
[2025-05-19 12:08:11] [INFO] [CHILD 78723] Finished handling client 127.0.0.1:39686, exiting
[2025-05-19 12:08:11] [INFO] [PARENT 78603] Child process 78723 terminated with status 0
[2025-05-19 12:08:11] [INFO] [PARENT 78603] Removed child PID 78723 from tracking array at index 1
[2025-05-19 12:08:11] [INFO] [PARENT 78603] Child process 78723 reaped (zombie removed), remaining children: 1
[2025-05-19 12:08:42] [INFO] [CHILD 78631] Received command 6 from client 127.0.0.1 (bytes: 80)
[2025-05-19 12:08:43] [INFO] Processing STATEMENT command for client 127.0.0.1
[2025-05-19 12:08:43] [INFO] Request details: Account=100002, PIN=3474
[2025-05-19 12:08:43] [INFO] Statement request: Account 100002
[2025-05-19 12:08:43] [INFO] Generating statement for account 100002 with 2 transactions
[2025-05-19 12:08:43] [INFO] Statement request successful: Account=100002, Transactions=2
[2025-05-19 12:08:43] [INFO] Preparing to send response to client 127.0.0.1 (status: 0)
[2025-05-19 12:08:44] [INFO] Response sent to client 127.0.0.1 (bytes: 400)
[2025-05-19 12:08:44] [INFO] Ready for next request from client 127.0.0.1
[2025-05-19 12:08:45] [INFO] [CHILD 78631] Waiting to receive request from client 127.0.0.1
[2025-05-19 12:08:59] [INFO] [PARENT 78631] Received signal 2, shutting down server...
[2025-05-19 12:08:59] [INFO] [PARENT 78603] Received signal 2, shutting down server...
[2025-05-19 12:08:59] [INFO] [PARENT 78603] Preparing to shut down with 1 active child processes
[2025-05-19 12:08:59] [INFO] [PARENT 78631] Preparing to shut down with 0 active child processes
[2025-05-19 12:08:59] [INFO] [PARENT 78603] Currently tracking 1 active child processes:
[2025-05-19 12:08:59] [INFO] [PARENT 78603] Child 1: PID 78631
[2025-05-19 12:08:59] [INFO] [PARENT 78631] No active child processes
[2025-05-19 12:08:59] [INFO] Saving data to bank.json
[2025-05-19 12:08:59] [INFO] [PARENT 78603] Freed child PID tracking array
[2025-05-19 12:08:59] [INFO] Saving data to bank.json
[2025-05-19 12:09:00] [INFO] Data saved successfully (2 accounts)
[2025-05-19 12:09:00] [INFO] [PARENT 78631] Server shutdown complete
[2025-05-19 12:09:00] [INFO] [PARENT 78603] Child process 78631 terminated with status 0
